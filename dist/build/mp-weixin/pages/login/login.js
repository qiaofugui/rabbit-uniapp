"use strict";const e=require("../../common/vendor.js"),s=require("../../services/login.js");require("../../stores/index.js");const t=require("../../stores/modules/member.js");require("../../utils/http.js");const o=e.defineComponent({__name:"login",setup(o){let n="";e.onLoad((async()=>{const s=await e.wx$1.login();n=s.code}));const i=async e=>{console.log(e);const{encryptedData:t,iv:o}=e.detail,i=await s.postLoginWxMinAPI({code:n,encryptedData:t,iv:o});a(i.result)},r=async()=>{const e=await s.postLoginWxMinSimpleAPI("15555555555");a(e.result)},a=s=>{t.useMemberStore().setProfile(s),e.index.showToast({icon:"success",title:"登录成功"}),setTimeout((()=>{e.index.navigateBack()}),500)};return(s,t)=>({a:e.o(i),b:e.o(r)})}});wx.createPage(o);

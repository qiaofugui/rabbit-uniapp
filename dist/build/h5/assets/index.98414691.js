import{d as a,l as e,L as s,o as l,j as t,a as u,b as o,w as r,e as c,F as n,r as i,c as p,t as d,z as g,f as _,h as f,i as m,k as v}from"./index-92dffa4f.js";import{c as x}from"./home.a3b9c939.js";import{_ as k}from"./_plugin-vue_export-helper.1b428a4d.js";const h=k(a({__name:"XtxGuess",setup(a,{expose:k}){const h=e([]),j=e({page:1,pageSize:10}),w=e(!1),D=async()=>{if(w.value)return g({icon:"none",title:"没有更多数据了"});const a=await x(j.value);h.value.push(...a.result.items),j.value.page<a.result.pages?j.value.page++:w.value=!0};s((()=>{D()}));return k({getGuessYouLikeData:D,resetDate:()=>{j.value.page=1,h.value=[],w.value=!1}}),(a,e)=>{const s=_,g=f,x=m,k=v;return l(),t(n,null,[u(" 猜你喜欢 "),o(g,{class:"caption"},{default:r((()=>[o(s,{class:"text"},{default:r((()=>[c("猜你喜欢")])),_:1})])),_:1}),o(g,{class:"guess"},{default:r((()=>[(l(!0),t(n,null,i(h.value,(a=>(l(),p(k,{class:"guess-item",key:a.id,url:`/pages/goods/goods?id=${a.id}`},{default:r((()=>[o(x,{class:"image",mode:"aspectFill",src:a.picture},null,8,["src"]),o(g,{class:"name"},{default:r((()=>[c(d(a.name),1)])),_:2},1024),o(g,{class:"price"},{default:r((()=>[o(s,{class:"small"},{default:r((()=>[c("¥")])),_:1}),o(s,null,{default:r((()=>[c(d(a.price),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["url"])))),128))])),_:1}),o(g,{class:"loading-text"},{default:r((()=>[c(d(w.value?"没有更多数据了~":"正在加载..."),1)])),_:1})],64)}}}),[["__scopeId","data-v-edc03bfc"]]),j=()=>{const a=e();return{guessRef:a,onScrolltolower:()=>{var e;null==(e=a.value)||e.getGuessYouLikeData()}}};export{h as _,j as u};
